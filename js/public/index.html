<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Recognition</title>

  <!-- update the version number as needed -->
  <script defer src="/__/firebase/9.22.2/firebase-app-compat.js"></script>
  <!-- include only the Firebase features as you need -->
  <script defer src="/__/firebase/9.22.2/firebase-auth-compat.js"></script>
  <script defer src="/__/firebase/9.22.2/firebase-database-compat.js"></script>
  <script defer src="/__/firebase/9.22.2/firebase-firestore-compat.js"></script>
  <script defer src="/__/firebase/9.22.2/firebase-functions-compat.js"></script>
  <script defer src="/__/firebase/9.22.2/firebase-messaging-compat.js"></script>
  <script defer src="/__/firebase/9.22.2/firebase-storage-compat.js"></script>
  <script defer src="/__/firebase/9.22.2/firebase-analytics-compat.js"></script>
  <script defer src="/__/firebase/9.22.2/firebase-remote-config-compat.js"></script>
  <script defer src="/__/firebase/9.22.2/firebase-performance-compat.js"></script>
  <!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
  <script defer src="/__/firebase/init.js?useEmulator=true"></script>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div id="problemAndSolution">
    <input type="text" id="problem">
    <canvas id="solution"></canvas>
  </div>
  <div id="container">
    <button id="buttonCheck" onclick="checkResult()">Check result</button>
    <span id="statusText"></span>
  </div>
  <script>
    const problemInput = document.getElementById("problem")
    const canvas = document.getElementById("solution")
    const checkAnswerButton = document.getElementById("buttonCheck")
    const statusText = document.getElementById("statusText")
    const ctx = canvas.getContext("2d")
    const STATUS_CORRECT = "Correct! ✅"
    const STATUS_INCORRECT = "Incorrect! ❌"
    let isDrawing = false
    let lastX = 0
    let lastY = 0
    let coord = { x: 0, y: 0 }
    
    document.addEventListener("mousedown", start)
    document.addEventListener("mouseup", stop)
    
    function reposition(event) {
        coord.x = event.clientX - canvas.offsetLeft
        coord.y = event.clientY - canvas.offsetTop
    }
    
    function start(event) {
        document.addEventListener("mousemove", draw)
        reposition(event)
    }
    
    function stop() {
        document.removeEventListener("mousemove", draw)
    }
    
    function draw(event) {
        ctx.beginPath()
        ctx.lineWidth = 6
        ctx.lineCap = "round"
        ctx.strokeStyle = "#000000"
        ctx.moveTo(coord.x, coord.y)
        reposition(event)
        ctx.lineTo(coord.x, coord.y)
        ctx.stroke()
    }
    
    function checkResult() {
        let problem = problemInput.value
        let encodedImage = canvas.toDataURL()
    }
    </script>
</body>

</html>